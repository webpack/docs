<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content=""><meta name=author content=""><link rel=icon type=image/png href=/assets/favicon.png><link rel=stylesheet href=css/doc.css><title>api in modules</title><body><script src=js/doc.js charset=utf-8 async></script><div class=container><div class=row><div class="col-md-3 nav"><div class=logo><ul class=cube-inner><li class=front></li><li class=back></li><li class=right></li><li class=left></li><li class=top></li><li class=bottom></li></ul><ul class=cube><li class=front></li><li class=back></li><li class=right></li><li class=left></li><li class=top></li><li class=bottom></li><li class=floor></li></ul></div><div class=name>webpack</div><div class=tagline>MODULE BUNDLER</div><div class=sidebar><ul><li><a href=.>Home</a></li></ul><ul><li>Getting Started<ul><li><a href=motivation.html>Motivation</a></li><li><a href=what-is-webpack.html>What is webpack?</a></li><li><a href=installation.html>Installation</a></li><li><a href=usage.html>Usage</a></li><li>Require Modules</li><li>Vendor Modules</li><li><a href=using-loaders.html>Using Loaders</a></li><li><a href=using-plugins.html>Using Plugins</a></li><li><a href=dev-tools.html>Dev Tools</a></li></ul></li><li>tutorials and examples<ul><li><a href="http://webpack.github.io/docs/tutorials/getting-started/">Getting started</a></li><li><a href=list-of-tutorials.html>List of tutorials</a></li><li><a href=examples.html>examples</a></li></ul></li><li>Guides<ul><li><a href=commonjs.html>CommonJs</a></li><li><a href=amd.html>AMD</a></li><li><a href=webpack-for-browserify-users.html>webpack for browserify users</a></li><li><a href=code-splitting.html>Code Splitting</a></li><li><a href=stylesheets.html>Stylesheets</a></li><li><a href=optimization.html>Optimization</a></li><li><a href=long-term-caching.html>Long-term Caching</a></li><li><a href=how-to-write-a-loader.html>How to write a loader</a></li><li>How to write a plugin</li><li><a href=multiple-entry-points.html>Multiple entry points</a></li><li><a href=library-and-externals.html>Library and externals</a></li><li><a href=shimming-modules.html>Shimming modules</a></li><li><a href=testing.html>Testing</a></li><li><a href=build-performance.html>Build performance</a></li><li><a href=hot-module-replacement-with-webpack.html>Hot Module Replacement with webpack</a></li><li><a href=comparison.html>Comparison</a></li></ul></li><li>Lists<ul><li><a href=list-of-loaders.html>List of loaders</a></li><li><a href=list-of-plugins.html>List of plugins</a></li></ul></li><li>webpack with<ul><li><a href=usage-with-grunt.html>grunt</a></li><li><a href=usage-with-gulp.html>gulp</a></li><li><a href=usage-with-bower.html>bower</a></li><li><a href=usage-with-karma.html>karma</a></li></ul></li><li>API<ul><li><a href=configuration.html>Configuration</a></li><li><a href=cli.html>CLI</a></li><li><a href=node.js-api.html>Node.js API</a></li><li><a href=api-in-modules.html>API in modules</a></li><li><a href=loaders.html>Loaders</a></li><li><a href=plugins.html>Plugins</a></li><li><a href=context.html>Context</a></li><li><a href=resolving.html>Resolving</a></li><li><a href=hot-module-replacement.html>Hot Module Replacement</a></li><li>Dev Tools<ul><li><a href=webpack-dev-server.html>webpack-dev-server</a></li><li><a href=webpack-dev-middleware.html>webpack-dev-middleware</a></li></ul></li></ul></li><li>Development<ul><li><a href=changelog.html>Changelog</a></li><li><a href=roadmap.html>Roadmap</a></li><li><a href=ideas.html>Ideas</a></li><li>Contributing</li></ul></li></ul></div></div><div class=col-md-9><div class=announcement><div class=announcement-inner><em>2014-07-04</em> Help to improve webpack by filling out <a href=https://docs.google.com/forms/d/101ZcujnVL8l575T6VRl62SfrVj5FZC1IzwMH1258GVc/viewform>this little survey</a>. Thanks!</div></div><div class=pull-right><a href=https://github.com/webpack/docs/wiki/api-in-modules/_edit id=wikieditlink>Edit</a></div><div class=row><div class="col-md-12 page-header"><h1 id=wikititle>api in modules</h1></div></div><div class=row><div id=wiki class=col-md-12><div class=contents><ul><li><a href=#basic>Basic</a><ul><li><a href=#require-commonjs><code>require</code> CommonJs</a></li><li><a href=#define><code>define</code></a></li><li><a href=#module-exports><code>module.exports</code></a></li><li><a href=#exports><code>exports</code></a></li><li><a href=#define><code>define</code></a></li><li><a href=#export><code>export</code></a></li><li><a href=#require-label><code>require</code> label</a></li><li><a href=#require-resolve><code>require.resolve</code></a></li><li><a href=#module-id><code>module.id</code></a></li></ul></li><li><a href=#advanced>Advanced</a><ul><li><a href=#require-cache><code>require.cache</code></a></li><li><a href=#require-context><code>require.context</code></a></li><li><a href=#require-ensure><code>require.ensure</code></a></li><li><a href=#require-amd><code>require</code> AMD</a></li><li><a href=#require-include><code>require.include</code></a></li><li><a href=#module-loaded><code>module.loaded</code></a></li><li><a href=#module-hot><code>module.hot</code></a></li><li><a href=#global><code>global</code></a></li><li><a href=#process><code>process</code></a></li><li><a href=#__dirname><code>__dirname</code></a></li><li><a href=#__filename><code>__filename</code></a></li><li><a href=#__resourcequery><code>__resourceQuery</code></a></li><li><a href=#__webpack_public_path__><code>__webpack_public_path__</code></a></li><li><a href=#__webpack_require__><code>__webpack_require__</code></a></li><li><a href=#__webpack_chunk_load__><code>__webpack_chunk_load__</code></a></li><li><a href=#__webpack_modules__><code>__webpack_modules__</code></a></li><li><a href=#__non_webpack_require__><code>__non_webpack_require__</code></a></li><li><a href=#debug><code>DEBUG</code></a></li></ul></li></ul></div><p>A quick summary of all methods and variables available in code compiled with webpack.</p><h2 id=basic><a class=anchor href=#basic>&rarr;</a>Basic</h2><h3 id=require-commonjs><a class=anchor href=#require-commonjs>&rarr;</a><code>require</code> CommonJs</h3><pre><code>require(dependency: String)</code></pre><p>Returns the exports from a dependency. The call is sync. No request to the server is fired. The compiler ensures that the dependency is available.</p><p>Style: CommonJs</p><p>Example:</p><pre><code><span class=keyword>var</span> $ = require(<span class=string>"jquery"</span>);
<span class=keyword>var</span> myModule = require(<span class=string>"my-module"</span>);</code></pre><hr><h3 id=define><a class=anchor href=#define>&rarr;</a><code>define</code> (with factory)</h3><pre><code>define([name: String], [dependencies: String[]], factoryMethod: <span class=function><span class=keyword>function</span><span class=params>(...)</span>)</span></code></pre><p>The name argument is ignored. If the <code>dependencies</code> array is provided, the factoryMethod will be called with the exports of each dependency (in the same order). If <code>dependencies</code> is not provided the factoryMethod is called with <code>require</code>, <code>exports</code> and <code>module</code> (for compatibility!). If the factoryMethod returns a value, this value is exported by the module. The call is sync. No request to the server is fired. The compiler ensures that each dependency is available.</p><p>Style: AMD</p><p>Example:</p><pre><code>define([<span class=string>"jquery"</span>, <span class=string>"my-module"</span>], <span class=function><span class=keyword>function</span><span class=params>($, myModule)</span> {</span>
  <span class=comment>// Do something with $ and myModule.</span>
  <span class=comment>// Export a function</span>
  <span class=keyword>return</span> <span class=function><span class=keyword>function</span> <span class=title>doSomething</span><span class=params>()</span> {</span>
    <span class=comment>// Do something</span>
  };
});</code></pre><blockquote><p>Note: Can NOT be used in an async function.</p></blockquote><hr><h3 id=module-exports><a class=anchor href=#module-exports>&rarr;</a><code>module.exports</code></h3><p>This value is returned, when that module is required. It’s default value is a new object.</p><p>Style: CommonJs</p><p>Example:</p><pre><code>module.exports = <span class=function><span class=keyword>function</span> <span class=title>doSomething</span><span class=params>()</span> {</span>
  <span class=comment>// Do something</span>
};</code></pre><blockquote><p>Note: Can NOT be used in an async function.</p></blockquote><hr><h3 id=exports><a class=anchor href=#exports>&rarr;</a><code>exports</code></h3><p>The exported object. It’s the default value of <code>module.exports</code>. If <code>module.exports</code> gets overwritten, <code>exports</code> will no longer be exported.</p><p>Style: CommonJs</p><pre><code>exports.someValue = <span class=number>42</span>;
exports.anObject = {
  x: <span class=number>123</span>
};
exports.aFunction = <span class=function><span class=keyword>function</span> <span class=title>doSomething</span><span class=params>()</span> {</span>
  <span class=comment>// Do something</span>
};</code></pre><blockquote><p>Note: Using it in an async function may not have the expected effect.</p></blockquote><hr><h3 id=define><a class=anchor href=#define>&rarr;</a><code>define</code> (with value)</h3><pre><code>define(value: !Function)</code></pre><p>Just exports the provided <code>value</code>. The <code>value</code> cannot be a function.</p><p>Style: AMD (for compatibility!)</p><p>Example:</p><pre><code>define({
  answer: <span class=number>42</span>
});</code></pre><blockquote><p>Note: Can NOT be used in an async function.</p></blockquote><hr><h3 id=export><a class=anchor href=#export>&rarr;</a><code>export</code> (label)</h3><pre><code>export: value</code></pre><p>Export the defined value. The label can occur before a function declaration or a variable declaration. The function name or variable name is the identifier under which the value is exported.</p><p>Style: Labeled modules <code>dependencies.LabeledModulesPlugin</code></p><p>Example:</p><pre><code>export: <span class=keyword>var</span> answer = <span class=number>42</span>;
export: <span class=function><span class=keyword>function</span> <span class=title>method</span><span class=params>(value)</span> {</span>
  <span class=comment>// Do something</span>
};</code></pre><blockquote><p>Note: Using it in an async function may not have the expected effect.</p></blockquote><hr><h3 id=require-label><a class=anchor href=#require-label>&rarr;</a><code>require</code> label</h3><pre><code>require: <span class=string>"dependency"</span></code></pre><p>Make all exports from the dependency available in the current scope. The <code>require</code> label can occur before a string. The dependency must export values with the <code>export</code> label. CommonJs or AMD modules cannot be consumed.</p><p>Style: Labeled modules <code>dependencies.LabeledModulesPlugin</code></p><p>Example:</p><pre><code><span class=comment>// in dependency</span>
export: <span class=keyword>var</span> answer = <span class=number>42</span>;
export: <span class=function><span class=keyword>function</span> <span class=title>method</span><span class=params>(value)</span> {</span>
  <span class=comment>// Do something</span>
};</code></pre><pre><code>require: <span class=string>"dependency"</span>;
method(answer);</code></pre><hr><h3 id=require-resolve><a class=anchor href=#require-resolve>&rarr;</a><code>require.resolve</code></h3><pre><code>require.resolve(dependency: String)</code></pre><p>Returns the module id of a dependency. The call is sync. No request to the server is fired. The compiler ensures that the dependency is available.</p><p>The module id is a number in webpack (in contrast to node.js where it is a string, the filename).</p><p>Style: CommonJs</p><p>Example:</p><pre><code><span class=keyword>var</span> id = require.resolve(<span class=string>"dependency"</span>);
<span class=keyword>typeof</span> id === <span class=string>"number"</span>;
id === <span class=number>0</span> <span class=comment>// if dependency is the entry point</span>
id &gt; <span class=number>0</span> <span class=comment>// elsewise</span></code></pre><hr><h3 id=module-id><a class=anchor href=#module-id>&rarr;</a><code>module.id</code></h3><p>The module id of the current module.</p><p>Style: CommonJs</p><p>Example:</p><pre><code><span class=comment>// in file.js</span>
module.id === require.resolve(<span class=string>"./file.js"</span>)</code></pre><hr><h2 id=advanced><a class=anchor href=#advanced>&rarr;</a>Advanced</h2><h3 id=require-cache><a class=anchor href=#require-cache>&rarr;</a><code>require.cache</code></h3><p>Multiple requires to the same module result in only one module execution and only one export. Therefore a cache in the runtime exists. Removing values from this cache cause new module execution and a new export. This is only needed in rare cases (for compatibility!).</p><p>Style: CommonJs</p><pre><code><span class=keyword>var</span> d1 = require(<span class=string>"dependency"</span>);
require(<span class=string>"dependency"</span>) === d1
<span class=keyword>delete</span> require.cache[require.resolve(<span class=string>"dependency"</span>)];
require(<span class=string>"dependency"</span>) !== d1</code></pre><pre><code><span class=comment>// in file.js</span>
require.cache[module.id] === module
require(<span class=string>"./file.js"</span>) === module.exports
<span class=keyword>delete</span> require.cache[module.id];
require.cache[module.id] === <span class=literal>undefined</span>
require(<span class=string>"./file.js"</span>) !== module.exports <span class=comment>// in theory; in praxis this causes a stack overflow</span>
require.cache[module.id] !== module</code></pre><hr><h3 id=require-context><a class=anchor href=#require-context>&rarr;</a><code>require.context</code></h3><pre><code>require.context(directory: String, [includeSubdirs: Boolean, [filter: RegExp]])</code></pre><p>Style: webpack</p><hr><h3 id=require-ensure><a class=anchor href=#require-ensure>&rarr;</a><code>require.ensure</code></h3><pre><code>require.ensure(dependencies: String[], callback: function([require]), [chunkName: String])</code></pre><p>Download additional dependencies on demand. The <code>dependencies</code> array lists modules that should be available. When they are, <code>callback</code> is called. If the callback is a function expression, dependencies in that source part are extracted and also loaded on demand. A single request is fired to the server, except if all modules are already available.</p><p>This creates a chunk. The chunk can be named. If a chunk with this name already exists, the dependencies are merged into that chunk and that chunk is used.</p><p>Style: CommonJs</p><p>Example:</p><pre><code><span class=comment>// in file.js</span>
<span class=keyword>var</span> a = require(<span class=string>"a"</span>);
require.ensure([<span class=string>"b"</span>], <span class=function><span class=keyword>function</span><span class=params>(require)</span> {</span>
  <span class=keyword>var</span> c = require(<span class=string>"c"</span>);
});
require.ensure([<span class=string>"d"</span>], <span class=function><span class=keyword>function</span><span class=params>()</span> {</span>
  <span class=keyword>var</span> e = require(<span class=string>"e"</span>);
}, <span class=string>"my chunk"</span>);
require.ensure([], <span class=function><span class=keyword>function</span><span class=params>()</span> {</span>
  <span class=keyword>var</span> f = require(<span class=string>"f"</span>);
}, <span class=string>"my chunk"</span>);
<span class=comment>/* This results in:
   * entry chunk
     - file.js
     - a
   * anonymous chunk
     - b
     - c
   * "my chunk"
     - d
     - e
     - f
*/</span></code></pre><hr><h3 id=require-amd><a class=anchor href=#require-amd>&rarr;</a><code>require</code> AMD</h3><pre><code>require(dependencies: String[], [callback: <span class=function><span class=keyword>function</span><span class=params>(...)</span>])</span></code></pre><p>Behaves similar to <code>require.ensure</code>, but the callback is called with the exports of each dependency in the <code>dependencies</code> array. There is no option to provide a chunk name.</p><p>Style: AMD</p><p>Example:</p><pre><code><span class=comment>// in file.js</span>
<span class=keyword>var</span> a = require(<span class=string>"a"</span>);
require([<span class=string>"b"</span>], <span class=function><span class=keyword>function</span><span class=params>(b)</span> {</span>
  <span class=keyword>var</span> c = require(<span class=string>"c"</span>);
});
<span class=comment>/* This results in:
   * entry chunk
     - file.js
     - a
   * anonymous chunk
     - b
     - c
*/</span></code></pre><hr><h3 id=require-include><a class=anchor href=#require-include>&rarr;</a><code>require.include</code></h3><pre><code>require.include(dependency: String)</code></pre><p>Ensures that the dependency is available, but don’t execute it. This can be use for optimizing the position of a module in the chunks.</p><p>Style: webpack</p><p>Example:</p><pre><code><span class=comment>// in file.js</span>
require.include(<span class=string>"a"</span>);
require.ensure([<span class=string>"a"</span>, <span class=string>"b"</span>], <span class=function><span class=keyword>function</span><span class=params>(require)</span> {</span>
  <span class=comment>// Do something</span>
});
require.ensure([<span class=string>"a"</span>, <span class=string>"c"</span>], <span class=function><span class=keyword>function</span><span class=params>(require)</span> {</span>
  <span class=comment>// Do something</span>
});
<span class=comment>/* This results in:
   * entry chunk
     - file.js
     - a
   * anonymous chunk
     - b
   * anonymous chunk
     - c
Without require.include "a" would be in both anonymous chunks.
The runtime behavior isn't changed.
*/</span></code></pre><hr><h3 id=module-loaded><a class=anchor href=#module-loaded>&rarr;</a><code>module.loaded</code></h3><p>This is <code><span class=literal>false</span></code> if the module is currently executing, and <code><span class=literal>false</span></code> if the sync execution has finished.</p><p>Style: node.js (for compatibility!)</p><hr><h3 id=module-hot><a class=anchor href=#module-hot>&rarr;</a><code>module.hot</code></h3><p>See <a href=hot-module-replacement.html>Hot Module Replacement</a>.</p><p>Style: webpack</p><hr><h3 id=global><a class=anchor href=#global>&rarr;</a><code>global</code></h3><p>See <a href=http://nodejs.org/api/globals.html#globals_global>node.js global</a></p><p>Style: node.js</p><hr><h3 id=process><a class=anchor href=#process>&rarr;</a><code>process</code></h3><p>See <a href=http://nodejs.org/api/process.html>node.js process</a></p><p>Style: node.js</p><hr><h3 id=__dirname><a class=anchor href=#__dirname>&rarr;</a><code>__dirname</code></h3><p>Depending on the config option <code>node.dirname</code>:</p><ul><li><code><span class=literal>false</span></code>: Not defined</li><li><code>mock</code>: equal “/“</li><li><code><span class=literal>true</span></code>: <a href=http://nodejs.org/api/globals.html#globals_dirname>node.js __dirname</a></li></ul><p>If used inside a expression that is parsed by the Parser, the config option is threaded as <code><span class=literal>true</span></code>.</p><p>Style: node.js (for compatibility!)</p><hr><h3 id=__filename><a class=anchor href=#__filename>&rarr;</a><code>__filename</code></h3><p>Depending on the config option <code>node.filename</code>:</p><ul><li><code><span class=literal>false</span></code>: Not defined</li><li><code>mock</code>: equal “/index.js”</li><li><code><span class=literal>true</span></code>: <a href=http://nodejs.org/api/globals.html#globals_filename>node.js __dirname</a></li></ul><p>If used inside a expression that is parsed by the Parser, the config option is threaded as <code><span class=literal>true</span></code>.</p><p>Style: node.js (for compatibility!)</p><hr><h3 id=__resourcequery><a class=anchor href=#__resourcequery>&rarr;</a><code>__resourceQuery</code></h3><p>The resource query of the current module.</p><p>Style: webpack</p><p>Example:</p><pre><code><span class=comment>// Inside "file.js?test":</span>
__resourceQuery === <span class=string>"?test"</span></code></pre><hr><h3 id=__webpack_public_path__><a class=anchor href=#__webpack_public_path__>&rarr;</a><code>__webpack_public_path__</code></h3><p>Equals the config options <code>output.publicPath</code>.</p><p>Style: webpack</p><hr><h3 id=__webpack_require__><a class=anchor href=#__webpack_require__>&rarr;</a><code>__webpack_require__</code></h3><p>The raw require function. This expression isn’t parsed by the Parser for dependencies.</p><p>Style: webpack</p><hr><h3 id=__webpack_chunk_load__><a class=anchor href=#__webpack_chunk_load__>&rarr;</a><code>__webpack_chunk_load__</code></h3><p>The internal chunk loading function. Takes two arguments:</p><ul><li><code>chunkId</code> The id for the chunk to load.</li><li><code>callback(require)</code> A callback function called once the chunk is loaded.</li></ul><p>Style: webpack</p><hr><h3 id=__webpack_modules__><a class=anchor href=#__webpack_modules__>&rarr;</a><code>__webpack_modules__</code></h3><p>Access to the internal object of all modules.</p><p>Style: webpack</p><hr><h3 id=__non_webpack_require__><a class=anchor href=#__non_webpack_require__>&rarr;</a><code>__non_webpack_require__</code></h3><p>Generates a <code>require</code> function that is not parsed by webpack. Can be used to do cool stuff with a global require function if available.</p><p>Style: webpack</p><hr><h3 id=debug><a class=anchor href=#debug>&rarr;</a><code>DEBUG</code></h3><p>Equals the config option <code>debug</code></p><p>Style: webpack</p></div></div></div></div></div><a href=https://github.com/webpack/webpack><img style="position: absolute; top: 0; left: 0; border: 0" src=https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png alt="Fork me on GitHub"></a>