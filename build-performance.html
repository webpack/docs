<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=""><meta name=author content=""><link rel=icon type=image/png href="/assets/favicon.png"><link rel=stylesheet href="css/doc.css"><title>build performance</title><body><script src=js/doc.js charset=utf-8 async></script><div class=container><div class=row><div class="col-md-3 nav"><div class=logo><ul class=cube-inner><li class=front></li><li class=back></li><li class=right></li><li class=left></li><li class=top></li><li class=bottom></li></ul><ul class=cube><li class=front></li><li class=back></li><li class=right></li><li class=left></li><li class=top></li><li class=bottom></li><li class=floor></li></ul></div><div class=name>webpack</div><div class=tagline>MODULE BUNDLER</div><div class=sidebar><ul><li><a href=.>Home</a></li></ul><ul><li>Getting Started<ul><li><a href=motivation.html>Motivation</a></li><li><a href=what-is-webpack.html>What is webpack?</a></li><li><a href=installation.html>Installation</a></li><li><a href=usage.html>Usage</a></li><li>Require Modules</li><li>Vendor Modules</li><li><a href=using-loaders.html>Using Loaders</a></li><li><a href=using-plugins.html>Using Plugins</a></li><li><a href=dev-tools.html>Dev Tools</a></li><li><a href=troubleshooting.html>Troubleshooting</a></li></ul></li><li>tutorials and examples<ul><li><a href="http://webpack.github.io/docs/tutorials/getting-started/">Getting started</a></li><li><a href=list-of-tutorials.html>List of tutorials</a></li><li><a href=examples.html>examples</a></li></ul></li><li>Guides<ul><li><a href=commonjs.html>CommonJs</a></li><li><a href=amd.html>AMD</a></li><li><a href=webpack-for-browserify-users.html>webpack for browserify users</a></li><li><a href=code-splitting.html>Code Splitting</a></li><li><a href=stylesheets.html>Stylesheets</a></li><li><a href=optimization.html>Optimization</a></li><li><a href=long-term-caching.html>Long-term Caching</a></li><li><a href=how-to-write-a-loader.html>How to write a loader</a></li><li>How to write a plugin</li><li><a href=multiple-entry-points.html>Multiple entry points</a></li><li><a href=library-and-externals.html>Library and externals</a></li><li><a href=shimming-modules.html>Shimming modules</a></li><li><a href=testing.html>Testing</a></li><li><a href=build-performance.html>Build performance</a></li><li><a href=hot-module-replacement-with-webpack.html>Hot Module Replacement with webpack</a></li><li><a href=comparison.html>Comparison</a></li></ul></li><li>webpack with<ul><li><a href=usage-with-grunt.html>grunt</a></li><li><a href=usage-with-gulp.html>gulp</a></li><li><a href=usage-with-bower.html>bower</a></li><li><a href=usage-with-karma.html>karma</a></li></ul></li><li>Lists<ul><li><a href=loader-conventions.html>loader conventions</a></li><li><a href=list-of-loaders.html>List of loaders</a></li><li><a href=list-of-plugins.html>List of plugins</a></li><li><a href=list-of-tutorials.html>List of tutorials</a></li></ul></li><li>API<ul><li><a href=configuration.html>Configuration</a></li><li><a href=cli.html>CLI</a></li><li><a href=node.js-api.html>Node.js API</a></li><li><a href=api-in-modules.html>API in modules</a></li><li><a href=loaders.html>Loaders</a></li><li><a href=plugins.html>Plugins</a></li><li><a href=context.html>Context</a></li><li><a href=resolving.html>Resolving</a></li><li><a href=hot-module-replacement.html>Hot Module Replacement</a></li><li>Dev Tools<ul><li><a href=webpack-dev-server.html>webpack-dev-server</a></li><li><a href=webpack-dev-middleware.html>webpack-dev-middleware</a></li></ul></li></ul></li><li>Development<ul><li><a href=changelog.html>Changelog</a></li><li><a href=roadmap.html>Roadmap</a></li><li><a href=ideas.html>Ideas</a></li><li>Contributing</li></ul></li></ul></div></div><div class=col-md-9><div class=announcement><div class=announcement-inner><em>2014-07-04</em> Help to improve webpack by filling out <a href=https://docs.google.com/forms/d/101ZcujnVL8l575T6VRl62SfrVj5FZC1IzwMH1258GVc/viewform>this little survey</a>. Thanks!<br><em>2015-03-04</em> You can now comment doc pages (on the bottom of the page). Free feel to add comments about missing/unclear stuff or fix stuff that other people find unclear. You can use the Edit button on the top right corner.</div></div><div class=pull-right><a href=https://github.com/webpack/docs/wiki/build-performance/_edit id=wikieditlink>Edit</a></div><div class=row><div class="col-md-12 page-header"><h1 id=wikititle>build performance</h1></div></div><div class=row><div id=wiki class=col-md-12><div class=contents><ul><li><a href=#incremental-builds>Incremental builds</a></li><li><a href=#prefetching-modules>Prefetching modules</a></li><li><a href=#exclude-modules-from-parsing>Exclude modules from parsing</a></li><li><a href=#hints-from-build-stats>Hints from build stats</a></li><li><a href=#chunks>Chunks</a></li><li><a href=#sourcemaps>SourceMaps</a></li></ul></div><p>WIP</p><h1 id=incremental-builds><a class=anchor href=#incremental-builds>&rarr;</a>Incremental builds</h1><p>Make sure you don’t do a full rebuild. webpack has a great caching layer that allows to keep already compiled modules in memory. There are some tools that help to use it:</p><ul><li><a href=webpack-dev-server.html>webpack-dev-server</a>: Serves all webpack assets from memory. Best performance.</li><li><a href=webpack-dev-middleware.html>webpack-dev-middleware</a>: The same as middleware for advanced users.</li><li><a href=cli.html>webpack –watch</a> or <a href=node.js-api.html><code>watch: <span class=literal>true</span></code></a>: Caches stuff but write assets to disk. Ok performance.</li></ul><h1 id=prefetching-modules><a class=anchor href=#prefetching-modules>&rarr;</a>Prefetching modules</h1><p>[[<code>prefetch</code> | <a href=http://webpack.github.io/docs/list-of-plugins.html#prefetchplugin>http://webpack.github.io/docs/list-of-plugins.html#prefetchplugin</a>]]</p><h1 id=exclude-modules-from-parsing><a class=anchor href=#exclude-modules-from-parsing>&rarr;</a>Exclude modules from parsing</h1><p>With [[<code>noParse</code> | <a href=http://webpack.github.io/docs/configuration.html#module-noparse>http://webpack.github.io/docs/configuration.html#module-noparse</a>]] you can exclude big libraries from parsing, but this can break stuff.</p><h1 id=hints-from-build-stats><a class=anchor href=#hints-from-build-stats>&rarr;</a>Hints from build stats</h1><p>There is an <a href="http://webpack.github.io/analyse/">analyse tool</a> which visualise your build and also provides some hint how build size and build performance can be optimized.</p><p>You can generate the required JSON file by running <code>webpack --profile --json &gt; stats.json</code></p><h1 id=chunks><a class=anchor href=#chunks>&rarr;</a>Chunks</h1><p>Generating the source file from internal representation is expensive. Each chunk is cached on it’s own, but only if nothing changes in this chunk. Most chunks only depend on the included modules, but the entry chunk is also considered as dirty if the additional chunk name changes. So by using <code>[hash]</code> or <code>[chunkhash]</code> in filenames the entry chunks need to be regenerated on (nearly) every change.</p><p>By using HMR the entry chunk need to embed the hash of the compilation and is also considered as dirty on every compilation.</p><h1 id=sourcemaps><a class=anchor href=#sourcemaps>&rarr;</a>SourceMaps</h1><p>Perfect SourceMaps are slow.</p><p><code>devtool: <span class=string>"source-map"</span></code> cannot cache SourceMaps for modules and need to regenerate complete SourceMap for the chunk. It’s something for production…</p><p><code>devtool: <span class=string>"eval-source-map"</span></code> is really as good as <code>devtool: <span class=string>"source-map"</span></code>, but can cache SourceMaps for modules. It’s much faster for rebuilds.</p><p><code>devtool: <span class=string>"eval-cheap-module-source-map"</span></code> offers SourceMaps that only maps lines (no column mappings) and are much faster.</p><p><code>devtool: <span class=string>"eval-cheap-source-map"</span></code> is similar but doesn’t generate SourceMaps for modules (i. e. jsx to js mappings).</p><p>The best performance has <code>devtool: <span class=string>"eval"</span></code>, but it only maps to compiled source code per module. In many cases this is good enough. Hint: combine it with <code>output.pathinfo: <span class=literal>true</span></code>.</p><p>The UglifyJsPlugin uses SourceMaps to map errors to source code. And SourceMaps are slow. As you should only use this in production this is fine. If your production build is really slow (or doesn’t finish at all) you can disable it with <code><span class=keyword>new</span> UglifyJsPlugin({ sourceMap: <span class=literal>false</span> })</code>.</p></div></div><div class=row><div class=col-md-12><div id=disqus_thread></div></div></div></div></div></div><a href=https://github.com/webpack/webpack><img style="position: absolute; top: 0; left: 0; border: 0" src=https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png alt="Fork me on GitHub"></a>